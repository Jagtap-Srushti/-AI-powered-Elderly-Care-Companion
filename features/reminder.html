<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Daily Reminder</title>
<link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">
<style>
  :root {
    --primary: #0284c7;
    --secondary: #16a34a;
    --bg: #f0f9ff;
    --card-bg: #ffffff;
    --text-color: #333;
    --highlight: #fff3cd;
    --accent: #2563eb;
  }

  body {
    margin: 0;
    font-family: 'Roboto', sans-serif;
    background: var(--bg);
    color: var(--text-color);
    transition: background 0.3s, color 0.3s;
  }

  body.dark {
    --bg: #1e293b;
    --card-bg: #334155;
    --text-color: #f1f5f9;
  }

  header {
    position: sticky;
    top: 0;
    background: var(--primary);
    color: white;
    padding: 20px;
    font-size: 1.8rem;
    font-weight: 700;
    text-align: center;
    box-shadow: 0 4px 10px rgba(0,0,0,0.2);
    display: flex;
    justify-content: space-between;
    align-items: center;
  }

  header button {
    background: white;
    color: var(--primary);
    border: none;
    padding: 8px 16px;
    border-radius: 20px;
    cursor: pointer;
    font-weight: 600;
  }

  header button:hover {
    background: #e0f2fe;
  }

  .container {
    max-width: 500px;
    margin: 30px auto;
    padding: 20px;
  }

  h2 {
    text-align: center;
    font-weight: 700;
    color: var(--primary);
    margin-bottom: 25px;
  }

  .add-task {
    display: flex;
    gap: 10px;
    margin-bottom: 20px;
  }

  .add-task input[type="text"], .add-task input[type="time"] {
    flex: 1;
    padding: 12px 15px;
    border-radius: 10px;
    border: 1px solid #ccc;
    font-size: 1rem;
    box-shadow: inset 0 2px 5px rgba(0,0,0,0.05);
    transition: border 0.3s;
  }

  .add-task input:focus {
    border: 1px solid var(--primary);
    outline: none;
  }

  .add-task button {
    background: var(--secondary);
    border: none;
    padding: 12px 18px;
    border-radius: 10px;
    color: white;
    cursor: pointer;
    font-weight: 600;
    transition: 0.3s;
  }

  .add-task button:hover {
    background: #15803d;
    transform: translateY(-2px);
  }

  #taskList {
    display: flex;
    flex-direction: column;
    gap: 15px;
  }

  .task-card {
    background: var(--card-bg);
    padding: 15px 20px;
    border-radius: 15px;
    box-shadow: 0 4px 12px rgba(0,0,0,0.08);
    display: flex;
    justify-content: space-between;
    align-items: center;
    transition: transform 0.3s;
  }

  .task-card.highlight {
    background-color: var(--highlight);
    animation: pulse 1s infinite;
  }

  @keyframes pulse {
    0% { transform: scale(1); }
    50% { transform: scale(1.03); }
    100% { transform: scale(1); }
  }

  .task-info {
    font-size: 1.1rem;
    font-weight: 500;
  }

  .task-time {
    font-weight: 700;
    color: var(--accent);
    margin-left: 10px;
  }

  .task-actions button {
    background: #dc2626;
    border: none;
    padding: 6px 12px;
    border-radius: 8px;
    color: white;
    cursor: pointer;
    font-weight: 600;
    transition: 0.3s;
  }

  .task-actions button:hover {
    background: #b91c1c;
  }

  .upcoming {
    text-align: center;
    font-weight: 600;
    color: var(--accent);
    margin-bottom: 20px;
  }

  .notification {
    position: fixed;
    bottom: 20px;
    right: 20px;
    background: var(--secondary);
    color: white;
    padding: 12px 20px;
    border-radius: 15px;
    box-shadow: 0 4px 12px rgba(0,0,0,0.2);
    display: none;
    font-weight: 600;
  }
</style>
</head>
<body>

<header>
  Daily Reminder
  <button onclick="toggleDarkMode()">üåô</button>
</header>

<div class="container">
  <h2>Manage Your Tasks</h2>

  <div class="add-task">
    <input type="text" id="taskName" placeholder="Task / Activity Name">
    <input type="time" id="taskTime">
    <button onclick="addTask()">Add</button>
  </div>

  <div class="upcoming" id="upcomingReminder"></div>

  <div id="taskList"></div>
</div>

<div class="notification" id="notification"></div>

<script>
let tasks = JSON.parse(localStorage.getItem('tasks')) || [];
const alarmSound = new Audio('https://actions.google.com/sounds/v1/alarms/alarm_clock.ogg');

function saveTasks() {
  localStorage.setItem('tasks', JSON.stringify(tasks));
}

function addTask() {
  const name = document.getElementById('taskName').value.trim();
  const time = document.getElementById('taskTime').value;
  if(!name || !time) { alert("‡§ï‡•É‡§™‡§Ø‡§æ ‡§ï‡§æ‡§∞‡•ç‡§Ø ‡§î‡§∞ ‡§∏‡§Æ‡§Ø ‡§¶‡§∞‡•ç‡§ú ‡§ï‡§∞‡•á‡§Ç!"); return; }

  tasks.push({name, time, alerted: false});
  saveTasks();
  renderList();

  document.getElementById('taskName').value = '';
  document.getElementById('taskTime').value = '';
}

function deleteTask(index) {
  tasks.splice(index,1);
  saveTasks();
  renderList();
}

function markDone(index){
  tasks[index].alerted = true;
  renderList();
}

function renderList() {
  const taskList = document.getElementById('taskList');
  taskList.innerHTML = '';
  tasks.forEach((task, index) => {
    const div = document.createElement('div');
    div.classList.add('task-card');
    if(task.alerted) div.classList.add('highlight');

    div.innerHTML = `
      <div class="task-info">${task.name} <span class="task-time">${task.time}</span></div>
      <div class="task-actions">
        <button onclick="markDone(${index})">‚úîÔ∏è Done</button>
        <button onclick="deleteTask(${index})">‚ùå Delete</button>
      </div>
    `;
    taskList.appendChild(div);
  });
}

function checkTaskTime() {
  const now = new Date();
  const hours = now.getHours().toString().padStart(2,"0");
  const minutes = now.getMinutes().toString().padStart(2,"0");
  const currentTime = `${hours}:${minutes}`;

  let nextTask = null;
  let minDiff = 24*60;

  tasks.forEach((task, index) => {
    const [h,m] = task.time.split(':').map(Number);
    const taskMinutes = h*60 + m;
    const nowMinutes = hours*60 + minutes;

    // Trigger alert
    if(taskMinutes === nowMinutes && !task.alerted){
      alarmSound.play();
      const msg = new SpeechSynthesisUtterance(`‡§∏‡§Æ‡§Ø ‡§π‡•ã ‡§ó‡§Ø‡§æ ‡§π‡•à, ${task.name} ‡§ï‡§∞‡§®‡•á ‡§ï‡§æ`);
      msg.lang = 'hi-IN';
      window.speechSynthesis.speak(msg);

      showNotification(`‡§∏‡§Æ‡§Ø ‡§π‡•ã ‡§ó‡§Ø‡§æ ‡§π‡•à, ${task.name} ‡§ï‡§∞‡§®‡§æ ‡§π‡•à`);
      task.alerted = true;
    }

    if(taskMinutes !== nowMinutes) task.alerted = false;

    // Find next upcoming task
    const diff = taskMinutes - nowMinutes;
    if(diff>0 && diff<minDiff){ minDiff = diff; nextTask = task; }
  });

  const upcomingDiv = document.getElementById('upcomingReminder');
  upcomingDiv.textContent = nextTask ? `Next: ${nextTask.name} at ${nextTask.time}` : 'No upcoming task';
}

function toggleDarkMode() {
  document.body.classList.toggle('dark');
}

function showNotification(msg){
  const notif = document.getElementById('notification');
  notif.textContent = msg;
  notif.style.display = 'block';
  setTimeout(()=>{ notif.style.display='none'; }, 5000);
}

renderList();
checkTaskTime();
setInterval(checkTaskTime, 10000);
</script>

</body>
</html>
